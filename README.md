# Pet-project!

# 1. Цель проекта

Цель проекта — разработать систему доставки продуктов питания (далее Система) от владельцев бизнеса (далее Владелец) для людей (далее Пользователь).
Система предлагает сервис по доставке еды, в котором Владелец сможет создать организацию, добавлять и удалять продукты которые доставляет организация, управлять акциями, иметь статистику по заказам, историю заказов, отзывы Пользователей

# 2. Описание системы

Система состоит из следующих основных функциональных блоков:

1. Регистрация, аутентификация и авторизация
2. Функционал для владельца
3. Функционал для покупателя
4. Упрощенный функционал оплаты
5. Функционал для оператора
6. Функционал для админа


## 2.1. Типы пользователей

Система предусматривает четыре типа пользователей системы: Владелец, Покупатель, Оператор, Админ.
Владелец: создаёт организации и добавляет в них продукты 
Покупатель: могут оформить заказ продуктов в любой выбранной организации, в одном заказе можно заказать продукты только от одной организации.
Оператор: Является технической поддержкой, у такого пользователя будут права на просмотр истории заказов человека, возможность видеть телефон осуществляющего доставку лица, возможность отмены заказа, возможность создания нового заказа для пользователя.
Админ: Человек с возможностями Оператора и Владельца, и дополнительными возможностями: *ДОПИСАТЬ*

## 2.2. Регистрация 

Процесс заведения пользователей типа Покупатель, Владелец в Системе будет реализован в интерфейсе, в то время как Оператор и Админ будут создаваться при помощи команды на сервере.

Для заведения любых пользователей должны быть переданы на вход следующие данные:
*Этого будет достаточно только для пользователей типа Оператор, Админ*
* email — обязательное поле
* Пароль — обязательное поле
* Имя — обязательное поле

Для заведения пользователей типа Покупатель и Владелец необходимо еще указать
* Номер телефона — обязательное поле


## 2.3. Аутентификация пользователя

Аутентификация осуществляется по email и паролю.


## 2.4. Функционал для владельца

Владелец после аутентификации (ввода email и пароля) получает доступ к 
своему функционалу в Системе. Этот функционал состоит из
следующих блоков:

1. Редактирование данных профиля
2. Заведение и редактирование организаций
3. Заведение и редактирование продуктов организаций
4. Организация акций в организации
5. Аналитика по выбранной организации


### 2.4.1. Редактирование профиля

В этом разделе у владельца есть возможность редактирования данных
своего профиля — email, имя.

Возможность смены пароля, при подтверждении старого пароля.


### 2.4.2. Заведение и редактирование организаций

Для каждой организации в обязательном порядке задается:
* Название организации
* Описание организации
* Логотип организации
* Юридическая информация: Адрес, ИНН |  **Дописать оставшиеся поля**

Владец имеет возможность на:
* Создание, редактирование и удаление продуктов
* Создание, редактирование и удаления акций
* Просмотр истории заказов, рецензий, статистики


### 2.4.3. Заведение и редактирование продуктов

Для каждого продукта в обязательном порядке задается:
* Название продукта
* Описание продукта
* Фотография продукта
* Рецепт

Владец имеет возможность на:
* Создание, редактирование и удаление продуктов
* Редактирование полей продукта
* Создание, редактирование и удаления акций

### 2.4.5. Функционал акций:

##### *#todo*

### 2.4.5. Аналитика
##### *#todo*


## 2.5. Функционал главной страницы

Главная страница Системы — это список организаций, отображаемых в виде небольших прямоугольных плашек. На плашке должно отображаться название организации, логотип, количество оценок и их средняя арифметическое. На плашке должна быть кнопка "добавить в избранноe"

Пагинация организаций осуществляется кнопкой «Показать ещё» внизу под уже
показанными постами. Нажатие этой кнопки приводит к подгрузке и отображению следующих 24 плашек организаций. Порядок организаций определяется выбранным порядком: по популярности, по рейтингу

У каждой организации должна быть своя постоянная ссылка, которую можно куда-то
себе сохранить. Идентификатор поста, зашитый в ссылке, должен представлять
собой int число, в первой версии не предполагается использование UUID, Для создания постоянных ссылок предположительно должен использоваться гем 'friendlyID' 


## 2.6. Функционал для покупателя

Покупатель может смотреть видеть организаций, добавлять их в избранное, видеть список продуктов организаций, добавлять в корзину продукты организации, выбирать какие составляющие из рецепта следует убрать при приготовлении продукта, после выбора всех необходимых продуктов организации - покупатель может оплатить заказ. Так как проект учебный не будет ничего связанного с реальными деньгами, после нажатия на кнопку оплаты заказа заказ перейдет в стадию выполнения, после выполнения заказ отправляется в "Историю заказов"

После "Получения" заказа у человека есть возможность поставить оценку последнему заказу, и анп

Каждый пост можно добавить в избранное. В разделе избранное у подписчика
должна быть возможность создавать тематические списки. При добавлении поста
в избранное показать чек-боксами эти списки, в этот момент подписчик может
сразу поместить пост в один из них.
 
Также у подписчика должна быть возможность на странице своего профиля
отредактировать его данные (email, сменить пароль) и отменить подписку,
что приведёт к остановке рекуррентных ежемесячных платежей и после
даты окончания оплаченного периода подписчик становится бесплатным подписчиком.

В профиле должна быть возможность отключить email сообщения от системы.


## 2.7. Уведомления о новых акциях

Покупателям fвтоматически должны приходить уведомления на Email о всех новых
акциях избранных организаций в Системе. Покупатели могут отменить эти и другие письма
настройкой в профиле.


# 3. Предлагаемый стек технологий

Для реализации системы предлагается следующий стек технологий:

* Бэкенд:
    - Язык Ruby
    - Фреймворк Rails
    - БД PostgreSQL
* Фронтенд:
    - TailwindCSS

Хранение файлов и изображений, загружаемых автором, должно осуществляться
в S3-совместимом хранилище.


# 4. Требования к дизайну

Минимализм, лаконичность. Основные дизайнерские решения можно взять с аналогичных сервисов.

В нижней части страницы (в подвале) должно быть написано:

«Pet project» со ссылкой на GitHub проекта.
